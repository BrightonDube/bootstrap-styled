import { unitUtils } from 'math-utils';
import { hover } from '../mixins/hover';
import { clearfix } from '../mixins/clearfix';
import { borderRightRadius, borderLeftRadius, borderBottomRadius, borderTopRadius } from '../mixins/border-radius';
import { boxShadow } from '../mixins/box-shadow';
import { buttonSize } from '../mixins/button';

export var defaultProps = {
  '$enable-shadows': true,
  '$enable-rounded': true,
  '$input-btn-border-width': '1px',
  '$btn-toolbar-margin': '.5rem',
  '$btn-padding-x': '1rem',
  '$btn-active-box-shadow': 'inset 0 3px 5px rgba(0,0,0,.125)',
  '$caret-width': '.3em',
  '$caret-width-lg': '.3em',
  '$btn-padding-x-lg': '1.5rem',
  '$btn-padding-y-lg': '.75rem',
  '$font-size-lg': '1.25rem',
  '$btn-border-radius-lg': '.3rem',
  '$btn-padding-y-sm': '.25rem',
  '$btn-padding-x-sm': '.5rem',
  '$font-size-sm': '.875rem',
  '$btn-border-radius-sm': '.2rem',
  '$btn-border-width': '1px'
};

export function buttonGroup() {
  var $enableShadows = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultProps['$enable-shadows'];
  var $enableRounded = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultProps['$enable-rounded'];
  var $inputBtnBorderWidth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultProps['$input-btn-border-width'];
  var $btnToolbarMargin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : defaultProps['$btn-toolbar-margin'];
  var $btnPaddingX = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : defaultProps['$btn-padding-x'];
  var $btnActiveBoxShadow = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : defaultProps['$btn-active-box-shadow'];
  var $caretWidthLg = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : defaultProps['$caret-width-lg'];
  var $btnPaddingXLg = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : defaultProps['$btn-padding-x-lg'];
  var $btnPaddingYLg = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : defaultProps['$btn-padding-y-lg'];
  var $fontSizeLg = arguments.length > 9 && arguments[9] !== undefined ? arguments[9] : defaultProps['$font-size-lg'];
  var $btnBorderRadiusLg = arguments.length > 10 && arguments[10] !== undefined ? arguments[10] : defaultProps['$btn-border-radius-lg'];
  var $btnPaddingXSm = arguments.length > 11 && arguments[11] !== undefined ? arguments[11] : defaultProps['$btn-padding-x-sm'];
  var $btnPaddingYSm = arguments.length > 12 && arguments[12] !== undefined ? arguments[12] : defaultProps['$btn-padding-y-sm'];
  var $fontSizeSm = arguments.length > 13 && arguments[13] !== undefined ? arguments[13] : defaultProps['$font-size-sm'];
  var $btnBorderRadiusSm = arguments.length > 14 && arguments[14] !== undefined ? arguments[14] : defaultProps['$btn-border-radius-sm'];
  var $btnBorderWidth = arguments.length > 15 && arguments[15] !== undefined ? arguments[15] : defaultProps['$btn-border-width'];

  return ' \n    /*  Make the div behave like a button */\n    &.btn-group,\n    & .btn-group,\n    &.btn-group-vertical,\n    & .btn-group-vertical {\n      position: relative;\n      display: inline-block;\n      vertical-align: middle; /* match .btn alignment given font-size hack above */\n    \n      > .btn {\n        position: relative;\n        float: left;\n        margin-bottom: 0;\n    \n        /* Bring the "active" button to the front */\n        &:focus,\n        &:active,\n        &.active {\n          z-index: 2;\n        }\n        ' + hover('\n          z-index: 2;\n        ') + '\n      }\n    }\n    \n    /*  Prevent double borders when buttons are next to each other */\n    &.btn-group,\n    & .btn-group{\n      .btn + .btn,\n      .btn + .btn-group,\n      .btn-group + .btn,\n      .btn-group + .btn-group {\n        margin-left: -' + $btnBorderWidth + ';\n      }\n    }\n    \n    /* Optional: Group multiple button groups together for a toolbar */\n    &.btn-toolbar,\n    & .btn-toolbar{\n      margin-left: -' + $btnToolbarMargin + '; /* Offset the first child\'s margin */\n      ' + clearfix() + '\n    \n      .btn-group,\n      .input-group {\n        float: left;\n      }\n    \n      > .btn,\n      > .btn-group,\n      > .input-group {\n        margin-left: ' + $btnToolbarMargin + ';\n      }\n    }\n    \n    &.btn-group,\n    & .btn-group {\n      > .btn:not(:first-child):not(:last-child):not(.dropdown-toggle) {\n        border-radius: 0;\n      }\n    }\n    \n    /* Set corners individual because sometimes a single button can be in a .btn-group and we need :first-child and :last-child to both match */\n    &.btn-group,\n    & .btn-group {\n      > .btn:first-child {\n        margin-left: 0;\n    \n        &:not(:last-child):not(.dropdown-toggle) {\n          ' + borderRightRadius($enableRounded, '0') + '\n        }\n      }\n    }\n    /* Need .dropdown-toggle since :last-child doesn\'t apply given a .dropdown-menu immediately after it */\n    &.btn-group > .btn:last-child:not(:first-child),\n    & .btn-group > .btn:last-child:not(:first-child),\n    &.btn-group > .dropdown-toggle:not(:first-child),\n    & .btn-group > .dropdown-toggle:not(:first-child) {\n      ' + borderLeftRadius($enableRounded, '0') + '\n    }\n    \n    /* Custom edits for including btn-groups within btn-groups (useful for including dropdown buttons within a btn-group) */\n    &.btn-group > .btn-group,\n    & .btn-group > .btn-group{\n      float: left;\n    }\n    &.btn-group > .btn-group:not(:first-child):not(:last-child) > .btn,\n    & .btn-group > .btn-group:not(:first-child):not(:last-child) > .btn {\n      border-radius: 0;\n    }\n    &.btn-group > .btn-group:first-child:not(:last-child)\n    & .btn-group > .btn-group:first-child:not(:last-child) {\n      > .btn:last-child,\n      > .dropdown-toggle {\n        ' + borderRightRadius($enableRounded, '0') + '\n      }\n    }\n    &.btn-group > .btn-group:last-child:not(:first-child) > .btn:first-child,\n    & .btn-group > .btn-group:last-child:not(:first-child) > .btn:first-child {\n      ' + borderLeftRadius($enableRounded, '0') + '\n    }\n    \n    /* On active and open, don\'t show outline */\n    &.btn-group .dropdown-toggle:active,\n    & .btn-group .dropdown-toggle:active,\n    &.btn-group.open .dropdown-toggle,\n    & .btn-group.open .dropdown-toggle {\n      outline: 0;\n    }\n    \n    \n    /* \n    Sizing Remix the default button sizing classes into new ones for easier manipulation.\n    */\n    \n    &.btn-group-sm > .btn,\n    & .btn-group-sm > .btn{ \n      ' + buttonSize($enableRounded, $btnPaddingYSm, $btnPaddingXSm, $fontSizeSm, $btnBorderRadiusSm) + '\n    }\n    &.btn-group-lg > .btn,\n    & .btn-group-lg > .btn {\n      ' + buttonSize($enableRounded, $btnPaddingYLg, $btnPaddingXLg, $fontSizeLg, $btnBorderRadiusLg) + '\n    }\n    \n    \n    /*\n     Split button dropdowns\n    */\n    \n    & .btn + .dropdown-toggle-split {\n      padding-right: ' + unitUtils.math.multiply($btnPaddingX, 0.75) + ';\n      padding-left: ' + unitUtils.math.multiply($btnPaddingX, 0.75) + ';\n    \n      &::after {\n        margin-left: 0;\n      }\n    }\n    \n    & .btn-sm + .dropdown-toggle-split {\n      padding-right: ' + unitUtils.math.multiply($btnPaddingXSm, 0.75) + ';\n      padding-left: ' + unitUtils.math.multiply($btnPaddingXSm, 0.75) + ';\n    }\n    \n    & .btn-lg + .dropdown-toggle-split {\n      padding-right: ' + unitUtils.math.multiply($btnPaddingXLg, 0.75) + ';\n      padding-left: ' + unitUtils.math.multiply($btnPaddingXLg, 0.75) + ';\n    }\n    \n    \n    /* The clickable button for toggling the menu */\n    /* Remove the gradient and set the same inset shadow as the :active state */\n    &.btn-group.open .dropdown-toggle {\n      ' + boxShadow($enableShadows, $btnActiveBoxShadow) + '\n    \n      /* Show no shadow for \'.btn-link\' since it has no other button styles. */\n      &.btn-link {\n        ' + boxShadow($enableShadows, 'none') + '\n      }\n    }\n    \n    \n    /* Reposition the caret */\n    & .btn .caret {\n      margin-left: 0;\n    }\n    /* Carets in other button sizes */\n    & .btn-lg .caret {\n      border-width: ' + $caretWidthLg + ' ' + $caretWidthLg + ' 0;\n      border-bottom-width: 0;\n    }\n    /* Upside down carets for .dropup */\n    & .dropup .btn-lg .caret {\n      border-width: 0 ' + $caretWidthLg + ' ' + $caretWidthLg + ';\n    }\n    \n    \n    \n    /*\n     Vertical button groups\n    */\n    \n    &.btn-group-vertical,\n    & .btn-group-vertical {\n      > .btn,\n      > .btn-group,\n      > .btn-group > .btn {\n        display: block;\n        float: none;\n        width: 100%;\n        max-width: 100%;\n      }\n    \n      /* Clear floats so dropdown menus can be properly placed */\n      > .btn-group {\n        ' + clearfix() + '\n    \n        > .btn {\n          float: none;\n        }\n      }\n    \n      > .btn + .btn,\n      > .btn + .btn-group,\n      > .btn-group + .btn,\n      > .btn-group + .btn-group {\n        margin-top: -' + $inputBtnBorderWidth + ';\n        margin-left: 0;\n      }\n    }\n    \n    &.btn-group-vertical > .btn,\n    & .btn-group-vertical > .btn {\n      &:not(:first-child):not(:last-child) {\n        border-radius: 0;\n      }\n      &:first-child:not(:last-child) {\n        ' + borderBottomRadius($enableRounded, '0') + '\n      }\n      &:last-child:not(:first-child) {\n        ' + borderTopRadius($enableRounded, '0') + '\n      }\n    }\n    \n    &.btn-group-vertical > .btn-group:not(:first-child):not(:last-child) > .btn,\n    & .btn-group-vertical > .btn-group:not(:first-child):not(:last-child) > .btn {\n      border-radius: 0;\n    }\n    \n    &.btn-group-vertical > .btn-group:first-child:not(:last-child),\n    & .btn-group-vertical > .btn-group:first-child:not(:last-child) {\n      > .btn:last-child,\n      > .dropdown-toggle {\n        ' + borderBottomRadius($enableRounded, '0') + '      \n      }\n    }\n    &.btn-group-vertical > .btn-group:last-child:not(:first-child) > .btn:first-child,\n    & .btn-group-vertical > .btn-group:last-child:not(:first-child) > .btn:first-child {\n      ' + borderTopRadius($enableRounded, '0') + '\n    }\n  \n  ';
}

export default {
  defaultProps: defaultProps,
  buttonGroup: buttonGroup
};